<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>å­¦ä¹ ç¬”è®° on Skylm</title>
        <link>https://skylm808.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
        <description>Recent content in å­¦ä¹ ç¬”è®° on Skylm</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <copyright>Skylm</copyright>
        <lastBuildDate>Fri, 16 Jan 2026 08:00:00 +0800</lastBuildDate><atom:link href="https://skylm808.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>go-zero çš„ Model å±‚ Redis ç¼“å­˜æœºåˆ¶</title>
        <link>https://skylm808.github.io/p/go-zero-%E7%9A%84-model-%E5%B1%82-redis-%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/</link>
        <pubDate>Fri, 16 Jan 2026 08:00:00 +0800</pubDate>
        
        <guid>https://skylm808.github.io/p/go-zero-%E7%9A%84-model-%E5%B1%82-redis-%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/</guid>
        <description>&lt;p&gt;åœ¨æ„å»ºé«˜æ€§èƒ½å¾®æœåŠ¡æ—¶ï¼Œæ•°æ®åº“å¾€å¾€æ˜¯æ€§èƒ½ç“¶é¢ˆã€‚go-zero åœ¨ Model å±‚å†…ç½®äº†ä¸€å¥—é«˜æ•ˆä¸”è‡ªåŠ¨åŒ–çš„ Redis ç¼“å­˜æœºåˆ¶ã€‚æœ¬æ–‡åŸºäºæºç é€»è¾‘ï¼Œè®²æ¸…æ¥šå®ƒå¦‚ä½•å¤„ç†ä¸»é”®ç¼“å­˜ã€å”¯ä¸€ç´¢å¼•ç¼“å­˜ä»¥åŠæ•°æ®ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-æ ¸å¿ƒè®¾è®¡å“²å­¦index-cacheç´¢å¼•ç¼“å­˜&#34;&gt;1. æ ¸å¿ƒè®¾è®¡å“²å­¦ï¼šIndex Cacheï¼ˆç´¢å¼•ç¼“å­˜ï¼‰
&lt;/h2&gt;&lt;p&gt;go-zero å¹¶æ²¡æœ‰é‡‡ç”¨â€œå¤§æ‚çƒ©â€å¼çš„ç¼“å­˜ç­–ç•¥ï¼Œè€Œæ˜¯ä¸¥æ ¼éµå¾ª &lt;strong&gt;â€œæ‰€æœ‰æŸ¥è¯¢æœ€ç»ˆéƒ½å›å½’åˆ° IDâ€&lt;/strong&gt; çš„è®¾è®¡åŸåˆ™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;11-ä¸¤ç§ç¼“å­˜ç±»å‹&#34;&gt;1.1 ä¸¤ç§ç¼“å­˜ç±»å‹
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Primary Cache (ä¸»é”®ç¼“å­˜)&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Key&lt;/strong&gt;: &lt;code&gt;cache:user:id:1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Value&lt;/strong&gt;: &lt;code&gt;{&amp;quot;Id&amp;quot;:1, &amp;quot;Username&amp;quot;:&amp;quot;admin&amp;quot;, ...}&lt;/code&gt;ï¼ˆæ•´è¡Œæ•°æ® JSONï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;: çœŸæ­£å­˜å‚¨æ•°æ®çš„åœ°æ–¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;Index Cache (å”¯ä¸€ç´¢å¼•ç¼“å­˜)&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Key&lt;/strong&gt;: &lt;code&gt;cache:user:username:admin&lt;/code&gt; / &lt;code&gt;cache:user:phone:138xxxx&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Value&lt;/strong&gt;: &lt;code&gt;1&lt;/code&gt;ï¼ˆå¯¹åº”çš„ UserIDï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;: åªæ˜¯ä¸€ä¸ªè·¯æ ‡ï¼ŒæŒ‡å‘ä¸»é”®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-æŸ¥è¯¢æµç¨‹ä»ä¸¤æ­¥èµ°åˆ°ä¸€æ­¥åˆ°ä½&#34;&gt;2. æŸ¥è¯¢æµç¨‹ï¼šä»â€œä¸¤æ­¥èµ°â€åˆ°â€œä¸€æ­¥åˆ°ä½â€
&lt;/h2&gt;&lt;h3 id=&#34;åœºæ™¯-aåŸºäºä¸»é”®æŸ¥è¯¢findoneid&#34;&gt;åœºæ™¯ Aï¼šåŸºäºä¸»é”®æŸ¥è¯¢ï¼ˆ&lt;code&gt;FindOne(id)&lt;/code&gt;ï¼‰
&lt;/h3&gt;&lt;p&gt;è¿™æ˜¯æœ€å¿«è·¯å¾„ï¼Œä¸€æ­¥åˆ°ä½ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»£ç è°ƒç”¨ &lt;code&gt;FindOne(1)&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ¡†æ¶ç›´æ¥æŸ¥ Redis &lt;code&gt;cache:user:id:1&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hit&lt;/strong&gt;: æ‹¿åˆ° JSONï¼Œååºåˆ—åŒ–è¿”å›ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Miss&lt;/strong&gt;: æŸ¥ MySQL -&amp;gt; æ‹¿åˆ°æ•´è¡Œæ•°æ® -&amp;gt; &lt;strong&gt;å†™å…¥ Redis&lt;/strong&gt; -&amp;gt; è¿”å›ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åœºæ™¯-båŸºäºå”¯ä¸€ç´¢å¼•æŸ¥è¯¢findonebyusernameadmin&#34;&gt;åœºæ™¯ Bï¼šåŸºäºå”¯ä¸€ç´¢å¼•æŸ¥è¯¢ï¼ˆ&lt;code&gt;FindOneByUsername(&amp;quot;admin&amp;quot;)&lt;/code&gt;ï¼‰
&lt;/h3&gt;&lt;p&gt;è¿™æ˜¯å…¸å‹çš„â€œä»¥ç©ºé—´æ¢æ—¶é—´ + æ•°æ®å½’ä¸€åŒ–â€ç­–ç•¥ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬ä¸€æ­¥ï¼ˆæ‰¾ IDï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥ Redis &lt;code&gt;cache:user:username:admin&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ‹¿åˆ° UserID: &lt;code&gt;1&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬äºŒæ­¥ï¼ˆæ‰¾æ•°æ®ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æ¡†æ¶å†…éƒ¨è‡ªåŠ¨å¤ç”¨ &lt;code&gt;FindOne(1)&lt;/code&gt; çš„é€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥ Redis &lt;code&gt;cache:user:id:1&lt;/code&gt; æ‹¿åˆ°è¯¦ç»†æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Ÿ&lt;/strong&gt;&lt;br&gt;
å¦‚æœåœ¨ &lt;code&gt;username&lt;/code&gt; çš„ç¼“å­˜é‡Œä¹Ÿå­˜ä¸€ä»½å®Œæ•´çš„ User æ•°æ®ï¼Œå½“ç”¨æˆ·ä¿®æ”¹æ˜µç§°æ—¶ï¼Œéœ€è¦åŒæ—¶æ›´æ–° &lt;code&gt;id:1&lt;/code&gt;ã€&lt;code&gt;username:admin&lt;/code&gt;ã€&lt;code&gt;phone:xxxx&lt;/code&gt; ç­‰å¤šä»½ç¼“å­˜ï¼Œææ˜“äº§ç”Ÿä¸ä¸€è‡´ã€‚&lt;br&gt;
ç°åœ¨çš„æ–¹æ¡ˆæ˜¯åªç»´æŠ¤ä¸»é”®ç¼“å­˜ï¼šåˆ é™¤ &lt;code&gt;id:1&lt;/code&gt; åï¼Œæ‰€æœ‰ç´¢å¼•æŸ¥è¯¢éƒ½ä¼šå›åˆ°ä¸»é”®ç¼“å­˜ï¼Œå¤©ç„¶ä¸€è‡´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-å†™å…¥ä¸æ›´æ–°æµç¨‹cache-aside-pattern&#34;&gt;3. å†™å…¥ä¸æ›´æ–°æµç¨‹ï¼šCache-Aside Pattern
&lt;/h2&gt;&lt;p&gt;go-zero ä¸¥æ ¼éµå¾ª &lt;strong&gt;æ—è·¯ç¼“å­˜ (Cache-Aside)&lt;/strong&gt; æ¨¡å¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;31-ä»€ä¹ˆæ—¶å€™å†™å…¥ç¼“å­˜&#34;&gt;3.1 ä»€ä¹ˆæ—¶å€™å†™å…¥ç¼“å­˜ï¼Ÿ
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;åªæœ‰åœ¨è¯»å–å¤±è´¥ï¼ˆCache Missï¼‰æ—¶æ‰å†™å…¥&lt;/strong&gt;ã€‚å³ &lt;code&gt;Lazy Load&lt;/code&gt;ï¼ˆæ‡’åŠ è½½ï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¹¶ä¸æ˜¯ update å®Œæ•°æ®åº“é©¬ä¸Šå†™ Redisã€‚&lt;/li&gt;
&lt;li&gt;è€Œæ˜¯ update å®Œåªåˆ ç¼“å­˜ã€‚ä¸‹æ¬¡è°æ¥è¯»ï¼Œè°è´Ÿè´£å»æŠŠæ•°æ®ä» MySQLâ€œæ¬è¿â€åˆ° Redisã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;32-æ›´æ–°åˆ é™¤æ—¶çš„è‡ªåŠ¨æ¸…ç†&#34;&gt;3.2 æ›´æ–°/åˆ é™¤æ—¶çš„â€œè‡ªåŠ¨æ¸…ç†â€
&lt;/h3&gt;&lt;p&gt;å½“ä½ è°ƒç”¨ &lt;code&gt;Update(user)&lt;/code&gt; æˆ– &lt;code&gt;Delete(id)&lt;/code&gt; æ—¶ï¼Œæ¡†æ¶åº•å±‚ï¼ˆ&lt;code&gt;sqlc.CachedConn&lt;/code&gt;ï¼‰ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// ä¼ªä»£ç é€»è¾‘&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Delete&lt;/span&gt;(id &lt;span style=&#34;color:#8be9fd&#34;&gt;int64&lt;/span&gt;) &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// 1. å…ˆæŸ¥å‡ºè€æ•°æ®ï¼ˆä¸ºäº†æ‹¿åˆ° usernameã€phone ç­‰ç´¢å¼•é”®ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    data, _ &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;FindOne&lt;/span&gt;(id)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// 2. å‡†å¤‡æ‰€æœ‰ç›¸å…³çš„ Redis Keys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    keys &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; []&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;cache:user:id:1&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;cache:user:username:admin&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;cache:user:phone:138xxxx&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// 3. æ‰§è¡Œæ•°æ®åº“æ“ä½œ + åˆ é™¤ç¼“å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _, err &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Exec&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt;() &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; DB.&lt;span style=&#34;color:#50fa7b&#34;&gt;Delete&lt;/span&gt;(id)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }, keys&lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; err
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸‹é¢æ˜¯ &lt;code&gt;github.com/zeromicro/go-zero@v1.9.4/core/stores/sqlc/cachedsql.go&lt;/code&gt; ä¸­çš„å…·ä½“ä»£ç ï¼Œ&lt;code&gt;ExecCtx&lt;/code&gt; æ˜¯ç”Ÿæˆçš„ model å±‚ä»£ç é‡Œæ‰§è¡Œæ•°æ®åº“æ“ä½œå¹¶åˆ é™¤ç¼“å­˜çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; (cc CachedConn) &lt;span style=&#34;color:#50fa7b&#34;&gt;ExecCtx&lt;/span&gt;(ctx context.Context, exec ExecCtxFn, keys &lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;) (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sql.Result, &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    res, err &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;exec&lt;/span&gt;(ctx, cc.db)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; err &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt;, err
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; res, cc.&lt;span style=&#34;color:#50fa7b&#34;&gt;DelCacheCtx&lt;/span&gt;(ctx, keys&lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¦‚æœ Redis é‡Œæœ‰ç¼“å­˜&lt;/strong&gt; -&amp;gt; &lt;code&gt;DEL&lt;/code&gt; å‘½ä»¤è¢«æ‰§è¡Œï¼Œç¼“å­˜è¢«æ¸…ç©ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¦‚æœ Redis é‡Œæ²¡ç¼“å­˜&lt;/strong&gt; -&amp;gt; &lt;code&gt;DEL&lt;/code&gt; å‘½ä»¤ä¾ç„¶è¢«æ‰§è¡Œï¼ˆè¿”å› 0ï¼‰ï¼Œæ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-æ€»ç»“&#34;&gt;4. æ€»ç»“
&lt;/h2&gt;&lt;p&gt;go-zero çš„ç¼“å­˜æœºåˆ¶é€šè¿‡ &lt;strong&gt;Model ä»£ç ç”Ÿæˆ&lt;/strong&gt; å¸®æˆ‘ä»¬å±è”½äº†å¤æ‚çš„ç»†èŠ‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å½’ä¸€&lt;/strong&gt;ï¼šæ‰€æœ‰æ•°æ®å®ä½“åªå­˜ä¸€ä»½ï¼ˆåœ¨ ID ç¼“å­˜é‡Œï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç´¢å¼•æ˜ å°„&lt;/strong&gt;ï¼šå”¯ä¸€ç´¢å¼•åªå­˜ IDï¼Œé€šè¿‡ä¸¤æ¬¡æŸ¥æ‰¾è§£å†³é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€è‡´æ€§ä¿è¯&lt;/strong&gt;ï¼šä¿®æ”¹æ•°æ®åº“è‡ªåŠ¨çº§è”åˆ é™¤å¯¹åº”çš„æ‰€æœ‰ç¼“å­˜ Keyï¼ˆåŒ…æ‹¬ ID Key å’Œ Index Keysï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™å¥—æœºåˆ¶ç®€å•ã€å¥å£®ï¼Œæ˜¯è§£å†³é«˜å¹¶å‘è¯»é—®é¢˜çš„æœ€ä½³å®è·µä¹‹ä¸€ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å»ºåšå®¢æˆåŠŸï¼</title>
        <link>https://skylm808.github.io/p/%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%88%90%E5%8A%9F/</link>
        <pubDate>Tue, 22 Jul 2025 17:09:54 +0800</pubDate>
        
        <guid>https://skylm808.github.io/p/%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%88%90%E5%8A%9F/</guid>
        <description>&lt;h2 id=&#34;-å»ºåšå®¢æˆåŠŸ&#34;&gt;ğŸ‰ å»ºåšå®¢æˆåŠŸï¼
&lt;/h2&gt;&lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„æŠ€æœ¯åšå®¢ï¼è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œæ ‡å¿—ç€æˆ‘æ­£å¼å¼€å§‹äº†æŠ€æœ¯å†™ä½œä¹‹æ—…ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…³äºè¿™ä¸ªåšå®¢&#34;&gt;å…³äºè¿™ä¸ªåšå®¢
&lt;/h3&gt;&lt;p&gt;è¿™ä¸ªåšå®¢ä¸»è¦ç”¨æ¥åˆ†äº«æˆ‘åœ¨ç¼–ç¨‹å­¦ä¹ å’Œå·¥ä½œä¸­çš„å¿ƒå¾—ä½“ä¼šï¼Œä¸»è¦ä¼šæ¶‰åŠä»¥ä¸‹æŠ€æœ¯é¢†åŸŸï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¼–ç¨‹è¯­è¨€&lt;/strong&gt;: Java, Go, C++, Python&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç®—æ³•ä¸æ•°æ®ç»“æ„&lt;/strong&gt;: ç®—æ³•é¢˜è§£ã€æ•°æ®ç»“æ„åˆ†æ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯æ€»ç»“&lt;/strong&gt;: é¡¹ç›®ç»éªŒã€æŠ€æœ¯éš¾ç‚¹è§£å†³æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ ç¬”è®°&lt;/strong&gt;: æ–°æŠ€æœ¯å­¦ä¹ è®°å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æœªæ¥è®¡åˆ’&#34;&gt;æœªæ¥è®¡åˆ’
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æŒç»­æ›´æ–°æŠ€æœ¯æ–‡ç« &lt;/li&gt;
&lt;li&gt;åˆ†äº«å®é™…é¡¹ç›®ç»éªŒ&lt;/li&gt;
&lt;li&gt;è®°å½•å­¦ä¹ è¿‡ç¨‹ä¸­çš„æ€è€ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœŸå¾…ä¸å¤§å®¶ä¸€èµ·äº¤æµå­¦ä¹ ï¼ ğŸš€&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
